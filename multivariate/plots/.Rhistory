pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ymin = paste0(cn, '-', se)
ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ymin = paste0(cn, '-', se)
ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ymin = paste0(cn, '-', se)
ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ymin = paste0(cn, '-', se)
ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ymin = paste0(cn, '-', se)
ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
# ymin = paste0(cn, '-', se)
# ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
# ymin = paste0(cn, '-', se)
# ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
#geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
# ymin = paste0(cn, '-', se)
# ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
#geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
# ymin = paste0(cn, '-', se)
# ymax = paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
#ggtitle()
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=, ymax=cn+se), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggtitle()
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
#geom_errorbar(aes_string(ymin=cn-se, ymax=cn+se), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn = paste0(task,'_', type, '_', roi, scale, '_mean')
se = paste0(task,'_', type, '_', roi, scale, '_se')
#plot
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
#geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
#geom_errorbar(aes_string(ymin=ymin, ymax=ymax), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=yminus, ymax=yplus), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=yminus, ymax=yplus), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
ggtitle(cn)
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=yminus, ymax=yplus), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
ggtitle(paste(task, type, roi, scale))
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=yminus, ymax=yplus), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
ggtitle(paste(task, type, roi, scale, scale))
}
plotit(tasks[1], types[1], rois[1], scaling[1])
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=yminus, ymax=yplus), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
ggtitle(paste(task, type, roi, scale, scale))
}
plotit(tasks[1], types[1], rois[1], scaling[2])
library(dplyr)
library(ggplot2)
library(reshape2)
df <- read.csv('timing.csv')
# lose the first 20 trs to
df[-c(1:20),]
glimpse(df)
se <- function(x) sqrt(var(x)/length(x))
averaged = group_by(df, trialtype2, tr) %>%
summarize_all(funs(mean, sd, se)) %>%
filter(trialtype2!=0)
averaged$trialtype <- factor(averaged$trialtype2)
tasks = c('tapping', 'imagine_tapping', 'excited', 'naccfb')
types = c('raw', 'processed')
rois = c('finger_tapping_ns', 'nacc8mm')
scaling = c('', '_scaled')
mdf <- melt(averaged)
tasks
for (task in tasks) { print(task )}
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaleing){
plotit(task, roi, type, scale)
}
}
}
}
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaling){
plotit(task, roi, type, scale)
}
}
}
}
library(dplyr)
library(ggplot2)
library(reshape2)
df <- read.csv('timing.csv')
# lose the first 20 trs to
# df[-c(1:20),]
glimpse(df)
se <- function(x) sqrt(var(x)/length(x))
averaged = group_by(df, trialtype2, tr) %>%
summarize_all(funs(mean, sd, se)) %>%
filter(trialtype2!=0)
averaged$trialtype <- factor(averaged$trialtype2)
tasks = c('tapping', 'imagine_tapping', 'excited', 'naccfb')
types = c('raw', 'processed')
rois = c('finger_tapping_ns', 'nacc8mm')
scaling = c('', '_scaled')
# mdf <- melt(averaged)
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
fg <- ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=yminus, ymax=yplus), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
ggtitle(paste(task, type, roi, scale, scale))
fg
}
plotit(tasks[1], types[1], rois[1], scaling[2])
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaling){
fg <- plotit(task, roi, type, scale)
fg
}
}
}
}
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaling){
fg <- plotit(task, roi, type, scale)
View(fg)
}
}
}
}
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaling){
fg <- plotit(task, roi, type, scale)
plot(fg)
}
}
}
}
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaling){
fg <- plotit(task, roi, type, scale)
print(fg)
}
}
}
}
library(dplyr)
library(ggplot2)
library(reshape2)
df <- read.csv('timing.csv')
# lose the first 20 trs to
# df[-c(1:20),]
glimpse(df)
se <- function(x) sqrt(var(x)/length(x))
averaged = group_by(df, trialtype2, tr) %>%
summarize_all(funs(mean, sd, se)) %>%
filter(trialtype2!=0)
averaged$trialtype <- factor(averaged$trialtype2)
tasks = c('tapping', 'imagine_tapping', 'excited', 'naccfb')
types = c('raw', 'processed')
rois = c('finger_tapping_ns', 'nacc8mm')
scaling = c('', '_scaled')
# mdf <- melt(averaged)
pd <- position_dodge(0.3)
plotit <- function(task, type, roi, scale){
#the column name
cn <- paste0(task,'_', type, '_', roi, scale, '_mean')
se <- paste0(task,'_', type, '_', roi, scale, '_se')
#plot
yminus <- paste0(cn, '-', se)
yplus <- paste0(cn, '+', se)
fg <- ggplot(averaged, aes_string(x='tr', y=cn, color='trialtype')) +
geom_errorbar(aes_string(ymin=yminus, ymax=yplus), width=.5, position=pd) +
geom_line(position=pd, aes_string(group='trialtype',color='trialtype')) +
geom_point(position=pd, size=2, shape=21, fill="white") + # 21 is filled circle
xlab("Seconds") +
ylab("%\u0394 BOLD") +
scale_y_continuous(breaks=-10:10*.1) +
scale_x_continuous(breaks=c(seq(2,32, by=2))) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
ggtitle(paste(task, type, roi, scale, scale))
fg
}
plotit(tasks[1], types[1], rois[1], scaling[2])
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaling){
fg <- plotit(task, roi, type, scale)
print(fg)
}
}
}
}
for (task in tasks){
for (roi in rois) {
for (type in types){
for (scale in scaling){
fg <- plotit(task, type, roi, scale)
print(fg)
}
}
}
}
